#! /usr/bin/env lnav -i
{
  "android_logcat_time": {
    "title": "Android logcat with time",
    "description": "Usage: 'adb logcat | lnav -q', ^C to cancel after quit.",
    "url": "https://developer.android.com/studio/command-line/logcat.html",
    "timestamp-format": ["%m-%d %H:%M:%S.%L"],
    "regex": {
      "std": {
        "pattern": "^(?<timestamp>\\d{2}-\\d{2}\\s+\\d{2}:\\d{2}:\\d{2}.\\d{3})(?<uid> {1,3}\\w+)?(?<pid> {1,5}\\d+)(?<tid> {1,5}\\d+) (?<lc_status>\\w).(?<tag>[\\S\\s]*): (?<lc_msg>.*)"
      }
    },
    "level-field": "lc_status",
    "level": {
      "fatal": "F",
      "error": "E",
      "warning": "W",
      "info": "I",
      "debug": "D",
      "trace": "V"
    },
    "opid-field" : "pid",
    "value": {
      "lc_status": {"kind": "string", "foreign-key": true},
      "tag" : {"kind":"string", "identifier": true},
      "uid" : {"kind":"string", "identifier":true},
      "pid" : {"kind":"integer", "identifier":true},
      "tid" : {"kind":"integer", "identifier": true},
      "lc_msg": {"kind":"string", "identifier": false}
    },
    "sample": [
      {
        "line": "10-13 15:39:27.517  2118  3664 I/GoogleURLConnFactory: Using platform SSLCertificateSocketFactory",
        "line": "04-11 12:01:52.401  1000  1152  1152 I chatty  : uid=1000 system_server identical 16 lines"
      }
    ]
  }
}
